{"ast":null,"code":"import _defineProperty from\"/home/crc/WebstormProjects/react-admin/node_modules/@babel/runtime/helpers/esm/defineProperty\";import\"antd/es/message/style/css\";import _message from\"antd/es/message\";import ajax from\"./ajax\";import jsonp from\"jsonp\";export var reqLogin=function reqLogin(username,password){return ajax(\"/users\",{username:username,password:password},\"POST\");};export var reqAddUser=function reqAddUser(user){return ajax(\"/users/add\",user,\"POST\");};export var reqWeather=function reqWeather(city){return new Promise(function(resolve,reject){var url=\"http://api.map.baidu.com/telematics/v3/weather?location=\".concat(city,\"&output=json&ak=3p49MVra6urFRGOT9s8UBWr2\");jsonp(url,{},function(err,data){if(!err&&data.status==='success'){var _data$results$0$weath=data.results[0].weather_data[0],dayPictureUrl=_data$results$0$weath.dayPictureUrl,weather=_data$results$0$weath.weather;resolve({dayPictureUrl:dayPictureUrl,weather:weather});}else{_message.error('获取天气信息失败');}});});};export var reqCategorys=function reqCategorys(parentId){return ajax(\"/users/categorys\",{parentId:parentId},\"GET\");};export var reqAddCategorys=function reqAddCategorys(categoryName,parentId){return ajax(\"/users/addcategorys\",{categoryName:categoryName,parentId:parentId},\"POST\");};export var reqUpdateCategorys=function reqUpdateCategorys(categoryId,categoryName){return ajax(\"/users/updatecategorys\",{categoryId:categoryId,categoryName:categoryName},\"POST\");};export var reqProducts=function reqProducts(pageNum,pageSize){return ajax(\"/users/productslist\",{pageNum:pageNum,pageSize:pageSize});};export var reqSearchProducts=function reqSearchProducts(_ref){var pageNum=_ref.pageNum,pageSize=_ref.pageSize,searchName=_ref.searchName,searchType=_ref.searchType;return ajax(\"/users/productsearch\",_defineProperty({pageNum:pageNum,pageSize:pageSize},searchType,searchName));};export var reqCategory=function reqCategory(categoryId){return ajax(\"/users/categoryinfo\",{categoryId:categoryId});};export var reqUpdateStatus=function reqUpdateStatus(productId,status){return ajax(\"/users/updatestatus\",{productId:productId,status:status},\"POST\");};export var reqDeleteImg=function reqDeleteImg(name){return ajax(\"/users/deleteimg\",{name:name},\"POST\");};export var reqAddOrUpdateProduct=function reqAddOrUpdateProduct(product){return ajax(\"/users/product\"+(product._id?'update':'add'),product,\"POST\");};export var reqUpdateRole=function reqUpdateRole(role){return ajax(\"/users/updaterole\",role,\"POST\");};export var reqGetUsers=function reqGetUsers(){return ajax(\"/users/getAll\");};export var reqDeleUser=function reqDeleUser(userId){return ajax(\"/user/delete\",{userId:userId},\"POST\");};","map":{"version":3,"sources":["/home/crc/WebstormProjects/react-admin/src/api/index.js"],"names":["ajax","jsonp","reqLogin","username","password","reqAddUser","user","reqWeather","city","Promise","resolve","reject","url","err","data","status","results","weather_data","dayPictureUrl","weather","error","reqCategorys","parentId","reqAddCategorys","categoryName","reqUpdateCategorys","categoryId","reqProducts","pageNum","pageSize","reqSearchProducts","searchName","searchType","reqCategory","reqUpdateStatus","productId","reqDeleteImg","name","reqAddOrUpdateProduct","product","_id","reqUpdateRole","role","reqGetUsers","reqDeleUser","userId"],"mappings":"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","sourcesContent":["import ajax from \"./ajax\";\nimport jsonp from \"jsonp\"\nimport {message} from \"antd\"\n\n\nexport const reqLogin = (username,password) =>\n        ajax(\"/users\",{username,password},\"POST\")\n\nexport const reqAddUser = (user) => ajax(\"/users/add\",user,\"POST\")\n\nexport const reqWeather = (city) =>{\n    return new Promise((resolve ,reject)=>{\n        const url = `http://api.map.baidu.com/telematics/v3/weather?location=${city}&output=json&ak=3p49MVra6urFRGOT9s8UBWr2`;\n        jsonp(url,{},(err,data)=>{\n            if(!err && data.status==='success'){\n                const {dayPictureUrl,weather} = data.results[0].weather_data[0];\n                resolve({dayPictureUrl,weather})\n            }else{\n                message.error('获取天气信息失败')\n            }\n        })\n    })\n}\n\nexport const reqCategorys = (parentId) =>ajax(\"/users/categorys\",{parentId},\"GET\")\n\nexport const reqAddCategorys = (categoryName,parentId) =>ajax(\"/users/addcategorys\",{categoryName,parentId},\"POST\")\n\nexport const reqUpdateCategorys = (categoryId,categoryName) =>ajax(\"/users/updatecategorys\",{categoryId,categoryName},\"POST\")\n\nexport const reqProducts = (pageNum,pageSize) =>ajax(\"/users/productslist\",{pageNum,pageSize})\n\nexport const reqSearchProducts = ({pageNum,pageSize,searchName,searchType}) =>ajax(\"/users/productsearch\",{pageNum,pageSize,[searchType]:searchName})\n\nexport const reqCategory = (categoryId) =>ajax(\"/users/categoryinfo\",{categoryId})\n\nexport const reqUpdateStatus = (productId,status) =>ajax(\"/users/updatestatus\",{productId,status},\"POST\")\n\nexport const reqDeleteImg = (name) =>ajax(\"/users/deleteimg\",{name},\"POST\")\n\nexport const reqAddOrUpdateProduct = (product) => ajax(\"/users/product\"+(product._id?'update':'add'),product,\"POST\")\n\nexport const reqUpdateRole = (role) => ajax(\"/users/updaterole\",role,\"POST\")\n\nexport const reqGetUsers = () =>ajax(\"/users/getAll\")\n\nexport const reqDeleUser = (userId) =>ajax(\"/user/delete\",{userId},\"POST\")\n\n\n"]},"metadata":{},"sourceType":"module"}