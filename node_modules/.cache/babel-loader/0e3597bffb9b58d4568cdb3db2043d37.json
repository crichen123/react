{"ast":null,"code":"import \"antd/es/card/style/css\";\nimport _Card from \"antd/es/card\";\nimport \"antd/es/table/style/css\";\nimport _Table from \"antd/es/table\";\nimport \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/icon/style/css\";\nimport _Icon from \"antd/es/icon\";\nimport \"antd/es/message/style/css\";\nimport _message from \"antd/es/message\";\nvar _jsxFileName = \"/home/crc/WebstormProjects/react-admin/src/pages/category/category.jsx\";\nimport React from 'react';\nimport \"./category.less\";\nimport LinkButton from \"../../components/link-button\";\nimport { reqCategorys } from \"../../api\";\nexport default class Category extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      categorys: [],\n      loading: false\n    };\n\n    this.initColumns = () => {\n      this.columns = [{\n        title: '分类名称',\n        dataIndex: 'name',\n        key: 'name'\n      }, {\n        title: '操作',\n        width: 300,\n        dataIndex: '',\n        key: 'x',\n        render: () => React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 26\n          },\n          __self: this\n        }, React.createElement(LinkButton, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 27\n          },\n          __self: this\n        }, \"\\u4FEE\\u6539\\u5206\\u7C7B\"), React.createElement(LinkButton, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 28\n          },\n          __self: this\n        }, \"\\u67E5\\u770B\\u5B50\\u5206\\u7C7B\"))\n      }];\n    };\n\n    this.getCategorys = async () => {\n      const result = await reqCategorys('0');\n\n      if (result.data.status == \"0\") {\n        const categorys = result.data.data;\n        console.log(categorys);\n        this.setState({\n          loading: true\n        });\n        this.setState({\n          categorys\n        });\n        this.setState({\n          loading: false\n        });\n      } else {\n        _message.error(\"获取分类失败\");\n      }\n    };\n  }\n\n  componentWillMount() {\n    this.initColumns();\n  }\n\n  componentDidMount() {\n    this.getCategorys();\n  }\n\n  render() {\n    const {\n      categorys\n    } = this.state;\n    const columns = this.columns;\n    const title = \"一级分类列表\";\n    const extra = React.createElement(_Button, {\n      type: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(_Icon, {\n      type: \"plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), \"\\u6DFB\\u52A0\");\n    const dataSource = [{\n      \"parentId\": '0',\n      \"_id\": '5ca9d69',\n      \"name\": '家用电器',\n      \"_v\": 0\n    }, {\n      \"parentId\": '0',\n      \"_id\": '5ca9d6c',\n      \"name\": '电脑',\n      \"_v\": 0\n    }, {\n      \"parentId\": '0',\n      \"_id\": '5ca9d7c',\n      \"name\": '图书',\n      \"_v\": 0\n    }, {\n      \"parentId\": '0',\n      \"_id\": '5ca9dbe',\n      \"name\": '服装',\n      \"_v\": 0\n    }];\n    /*\n    return (\n        <Card title={title} extra={extra}>\n            <Table\n                rowKey=\"_id\"\n                bordered\n                dataSource={dataSource} columns={columns} />;\n        </Card>\n    )\n    *\n     */\n\n    return React.createElement(_Card, {\n      title: title,\n      extra: extra,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(_Table, {\n      rowKey: \"_id\",\n      bordered: true,\n      dataSource: categorys,\n      columns: columns,\n      pagination: {\n        defaultPageSize: 5\n      },\n      loading: this.state.loading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/crc/WebstormProjects/react-admin/src/pages/category/category.jsx"],"names":["React","LinkButton","reqCategorys","Category","Component","state","categorys","loading","initColumns","columns","title","dataIndex","key","width","render","getCategorys","result","data","status","console","log","setState","error","componentWillMount","componentDidMount","extra","dataSource","defaultPageSize"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {Card,Table,Button,Icon,message} from \"antd\"\nimport \"./category.less\"\nimport LinkButton from \"../../components/link-button\";\nimport {reqCategorys} from \"../../api\"\n\nexport default class Category extends React.Component {\n\n    state = {\n        categorys:[],\n        loading:false\n    }\n\n    initColumns = () =>{\n        this.columns = [\n            {\n                title: '分类名称',\n                dataIndex: 'name',\n                key: 'name',\n            },\n            {\n                title: '操作',\n                width:300,\n                dataIndex: '',\n                key: 'x',\n                render:()=>(<span>\n                    <LinkButton>修改分类</LinkButton>\n                    <LinkButton>查看子分类</LinkButton>\n                </span>)\n            }\n\n        ];\n    }\n\n    getCategorys = async () =>{\n       const result = await reqCategorys('0');\n       if(result.data.status==\"0\"){\n            const categorys = result.data.data;\n            console.log(categorys);\n            this.setState({loading:true});\n            this.setState({categorys});\n            this.setState({loading:false});\n       }else{\n           message.error(\"获取分类失败\")\n       }\n    }\n\n    componentWillMount() {\n        this.initColumns();\n    }\n\n    componentDidMount() {\n        this.getCategorys();\n    }\n\n    render(){\n        const {categorys} = this.state;\n        const columns = this.columns\n        const title = \"一级分类列表\";\n        const extra = (\n            <Button type=\"primary\">\n                <Icon type=\"plus\"/>添加\n            </Button>\n        )\n\n        const dataSource = [\n            {\n                \"parentId\": '0',\n                \"_id\": '5ca9d69',\n                \"name\": '家用电器',\n                \"_v\":0\n            },{\n                \"parentId\": '0',\n                \"_id\": '5ca9d6c',\n                \"name\": '电脑',\n                \"_v\":0\n            },{\n                \"parentId\": '0',\n                \"_id\": '5ca9d7c',\n                \"name\": '图书',\n                \"_v\":0\n            },{\n                \"parentId\": '0',\n                \"_id\": '5ca9dbe',\n                \"name\": '服装',\n                \"_v\":0\n            }\n\n        ];\n\n\n\n        /*\n        return (\n            <Card title={title} extra={extra}>\n                <Table\n                    rowKey=\"_id\"\n                    bordered\n                    dataSource={dataSource} columns={columns} />;\n            </Card>\n        )\n        *\n         */\n\n        return (\n            <Card title={title} extra={extra}>\n                <Table\n                    rowKey=\"_id\"\n                    bordered\n                    dataSource={categorys}\n                    columns={columns}\n                    pagination={{defaultPageSize:5}}\n                    loading={this.state.loading}\n                />\n            </Card>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}