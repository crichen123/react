{"ast":null,"code":"import \"antd/es/message/style/css\";\nimport _message from \"antd/es/message\";\nimport ajax from \"./ajax\";\nimport jsonp from \"jsonp\";\nexport const reqLogin = (username, password) => ajax(\"/users\", {\n  username,\n  password\n}, \"POST\");\nexport const reqAddUser = user => ajax(\"/users/add\", user, \"POST\");\nexport const reqWeather = city => {\n  return new Promise((resolve, reject) => {\n    const url = `http://api.map.baidu.com/telematics/v3/weather?location=${city}&output=json&ak=3p49MVra6urFRGOT9s8UBWr2`;\n    jsonp(url, {}, (err, data) => {\n      if (!err && data.status === 'success') {\n        const {\n          dayPictureUrl,\n          weather\n        } = data.results[0].weather_data[0];\n        resolve({\n          dayPictureUrl,\n          weather\n        });\n      } else {\n        _message.error('获取天气信息失败');\n      }\n    });\n  });\n};\nexport const reqCategorys = parentId => ajax(\"/users/categorys\", {\n  parentId\n}, \"GET\");\nexport const reqAddCategorys = (categoryName, parentId) => ajax(\"/users/addcategorys\", {\n  categoryName,\n  parentId\n}, \"POST\");\nexport const reqUpdateCategorys = (categoryId, categoryName) => ajax(\"/users/updatecategorys\", {\n  categoryId,\n  categoryName\n}, \"POST\");\nexport const reqProducts = (pageNum, pageSize) => ajax(\"/users/productslist\", {\n  pageNum,\n  pageSize\n});\nexport const reqSearchProducts = ({\n  pageNum,\n  pageSize,\n  searchName,\n  searchType\n}) => ajax(\"/users/productsearch\", {\n  pageNum,\n  pageSize,\n  [searchType]: searchName\n});\nexport const reqCategory = categoryId => ajax(\"/users/categoryinfo\", {\n  categoryId\n});\nexport const reqUpdateStatus = (productId, status) => ajax(\"/users/updatestatus\", {\n  productId,\n  status\n}, \"POST\");","map":{"version":3,"sources":["/home/crc/WebstormProjects/react-admin/src/api/index.js"],"names":["ajax","jsonp","reqLogin","username","password","reqAddUser","user","reqWeather","city","Promise","resolve","reject","url","err","data","status","dayPictureUrl","weather","results","weather_data","error","reqCategorys","parentId","reqAddCategorys","categoryName","reqUpdateCategorys","categoryId","reqProducts","pageNum","pageSize","reqSearchProducts","searchName","searchType","reqCategory","reqUpdateStatus","productId"],"mappings":";;AAAA,OAAOA,IAAP,MAAiB,QAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAIA,OAAO,MAAMC,QAAQ,GAAG,CAACC,QAAD,EAAUC,QAAV,KAChBJ,IAAI,CAAC,QAAD,EAAU;AAACG,EAAAA,QAAD;AAAUC,EAAAA;AAAV,CAAV,EAA8B,MAA9B,CADL;AAGP,OAAO,MAAMC,UAAU,GAAIC,IAAD,IAAUN,IAAI,CAAC,YAAD,EAAcM,IAAd,EAAmB,MAAnB,CAAjC;AAEP,OAAO,MAAMC,UAAU,GAAIC,IAAD,IAAS;AAC/B,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAmB;AAClC,UAAMC,GAAG,GAAI,2DAA0DJ,IAAK,0CAA5E;AACAP,IAAAA,KAAK,CAACW,GAAD,EAAK,EAAL,EAAQ,CAACC,GAAD,EAAKC,IAAL,KAAY;AACrB,UAAG,CAACD,GAAD,IAAQC,IAAI,CAACC,MAAL,KAAc,SAAzB,EAAmC;AAC/B,cAAM;AAACC,UAAAA,aAAD;AAAeC,UAAAA;AAAf,YAA0BH,IAAI,CAACI,OAAL,CAAa,CAAb,EAAgBC,YAAhB,CAA6B,CAA7B,CAAhC;AACAT,QAAAA,OAAO,CAAC;AAACM,UAAAA,aAAD;AAAeC,UAAAA;AAAf,SAAD,CAAP;AACH,OAHD,MAGK;AACD,iBAAQG,KAAR,CAAc,UAAd;AACH;AACJ,KAPI,CAAL;AAQH,GAVM,CAAP;AAWH,CAZM;AAcP,OAAO,MAAMC,YAAY,GAAIC,QAAD,IAAatB,IAAI,CAAC,kBAAD,EAAoB;AAACsB,EAAAA;AAAD,CAApB,EAA+B,KAA/B,CAAtC;AAEP,OAAO,MAAMC,eAAe,GAAG,CAACC,YAAD,EAAcF,QAAd,KAA0BtB,IAAI,CAAC,qBAAD,EAAuB;AAACwB,EAAAA,YAAD;AAAcF,EAAAA;AAAd,CAAvB,EAA+C,MAA/C,CAAtD;AAEP,OAAO,MAAMG,kBAAkB,GAAG,CAACC,UAAD,EAAYF,YAAZ,KAA4BxB,IAAI,CAAC,wBAAD,EAA0B;AAAC0B,EAAAA,UAAD;AAAYF,EAAAA;AAAZ,CAA1B,EAAoD,MAApD,CAA3D;AAEP,OAAO,MAAMG,WAAW,GAAG,CAACC,OAAD,EAASC,QAAT,KAAqB7B,IAAI,CAAC,qBAAD,EAAuB;AAAC4B,EAAAA,OAAD;AAASC,EAAAA;AAAT,CAAvB,CAA7C;AAEP,OAAO,MAAMC,iBAAiB,GAAG,CAAC;AAACF,EAAAA,OAAD;AAASC,EAAAA,QAAT;AAAkBE,EAAAA,UAAlB;AAA6BC,EAAAA;AAA7B,CAAD,KAA6ChC,IAAI,CAAC,sBAAD,EAAwB;AAAC4B,EAAAA,OAAD;AAASC,EAAAA,QAAT;AAAkB,GAACG,UAAD,GAAaD;AAA/B,CAAxB,CAA3E;AAEP,OAAO,MAAME,WAAW,GAAIP,UAAD,IAAe1B,IAAI,CAAC,qBAAD,EAAuB;AAAC0B,EAAAA;AAAD,CAAvB,CAAvC;AAEP,OAAO,MAAMQ,eAAe,GAAG,CAACC,SAAD,EAAWpB,MAAX,KAAqBf,IAAI,CAAC,qBAAD,EAAuB;AAACmC,EAAAA,SAAD;AAAWpB,EAAAA;AAAX,CAAvB,EAA0C,MAA1C,CAAjD","sourcesContent":["import ajax from \"./ajax\";\nimport jsonp from \"jsonp\"\nimport {message} from \"antd\"\n\n\nexport const reqLogin = (username,password) =>\n        ajax(\"/users\",{username,password},\"POST\")\n\nexport const reqAddUser = (user) => ajax(\"/users/add\",user,\"POST\")\n\nexport const reqWeather = (city) =>{\n    return new Promise((resolve ,reject)=>{\n        const url = `http://api.map.baidu.com/telematics/v3/weather?location=${city}&output=json&ak=3p49MVra6urFRGOT9s8UBWr2`;\n        jsonp(url,{},(err,data)=>{\n            if(!err && data.status==='success'){\n                const {dayPictureUrl,weather} = data.results[0].weather_data[0];\n                resolve({dayPictureUrl,weather})\n            }else{\n                message.error('获取天气信息失败')\n            }\n        })\n    })\n}\n\nexport const reqCategorys = (parentId) =>ajax(\"/users/categorys\",{parentId},\"GET\")\n\nexport const reqAddCategorys = (categoryName,parentId) =>ajax(\"/users/addcategorys\",{categoryName,parentId},\"POST\")\n\nexport const reqUpdateCategorys = (categoryId,categoryName) =>ajax(\"/users/updatecategorys\",{categoryId,categoryName},\"POST\")\n\nexport const reqProducts = (pageNum,pageSize) =>ajax(\"/users/productslist\",{pageNum,pageSize})\n\nexport const reqSearchProducts = ({pageNum,pageSize,searchName,searchType}) =>ajax(\"/users/productsearch\",{pageNum,pageSize,[searchType]:searchName})\n\nexport const reqCategory = (categoryId) =>ajax(\"/users/categoryinfo\",{categoryId})\n\nexport const reqUpdateStatus = (productId,status) =>ajax(\"/users/updatestatus\",{productId,status},\"POST\")\n"]},"metadata":{},"sourceType":"module"}