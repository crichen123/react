{"ast":null,"code":"import \"antd/es/card/style/css\";\nimport _Card from \"antd/es/card\";\nimport \"antd/es/modal/style/css\";\nimport _Modal from \"antd/es/modal\";\nimport \"antd/es/table/style/css\";\nimport _Table from \"antd/es/table\";\nimport \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nvar _jsxFileName = \"/home/crc/WebstormProjects/react-admin/src/pages/role/role.jsx\";\nimport React from 'react';\nimport { PAGE_SIZE } from \"../../utils/constant\";\nimport AddForm from \"../category/add-form\";\nexport default class Role extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      roles: [{\n        \"menus\": [\"/home\", \"/products\", \"/category\", \"/product\", \"/role\"],\n        \"_id\": \"5ca9eac0\",\n        \"name\": \"角色1\",\n        \"create_time\": 1554639552758,\n        \"_v\": 0,\n        \"auth_time\": 1557630307021,\n        \"auth_name\": \"admim\"\n      }],\n      loading: false,\n      role: {},\n      isShowAdd: false\n    };\n\n    this.initColumn = () => {\n      this.columns = [{\n        title: '角色名称',\n        dataIndex: 'name'\n      }, {\n        title: '创建时间',\n        dataIndex: 'create_time'\n      }, {\n        title: '授权时间',\n        dataIndex: 'auth_time'\n      }, {\n        title: '授权人',\n        dataIndex: 'auth_name'\n      }];\n    };\n\n    this.addRole = () => {};\n\n    this.handleCancel = () => {\n      this.setState({\n        isShowAdd: false\n      });\n    };\n\n    this.onRow = role => {\n      return {\n        onClick: event => {\n          this.setState({\n            role\n          });\n        }\n      };\n    };\n  }\n\n  componentWillMount() {\n    this.initColumn();\n  }\n\n  render() {\n    const {\n      roles,\n      loading,\n      role,\n      isShowAdd\n    } = this.state;\n    const title = React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(_Button, {\n      type: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"\\u521B\\u5EFA\\u89D2\\u8272\"), \"\\xA0\\xA0\", React.createElement(_Button, {\n      type: \"primary\",\n      disabled: !role._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"\\u8BBE\\u7F6E\\u89D2\\u8272\\u6743\\u9650\"));\n    const rowSelection = {\n      type: 'radio',\n      selectedRowKeys: [role._id]\n    };\n    return React.createElement(_Card, {\n      title: title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(_Table, {\n      bordered: true,\n      rowKey: \"_id\",\n      loadding: loading,\n      dataSource: roles,\n      columns: this.columns,\n      pagination: {\n        defaultPageSize: 5\n      },\n      rowSelection: rowSelection,\n      onRow: this.onRow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(_Modal, {\n      title: \"\\u6DFB\\u52A0\\u89D2\\u8272\",\n      visible: isShowAdd,\n      onOk: this.addRole,\n      onCancel: this.handleCancel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(AddForm, {\n      setForm: form => {\n        this.form = form;\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/home/crc/WebstormProjects/react-admin/src/pages/role/role.jsx"],"names":["React","PAGE_SIZE","AddForm","Role","Component","state","roles","loading","role","isShowAdd","initColumn","columns","title","dataIndex","addRole","handleCancel","setState","onRow","onClick","event","componentWillMount","render","_id","rowSelection","type","selectedRowKeys","defaultPageSize","form"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {Button, Table, Card, Modal} from \"antd\"\nimport {PAGE_SIZE} from \"../../utils/constant\";\nimport AddForm from \"../category/add-form\";\n\nexport default class Role extends React.Component {\n    state = {\n        roles:[{\n            \"menus\":[\n                \"/home\",\n                \"/products\",\n                \"/category\",\n                \"/product\",\n                \"/role\"\n            ],\n            \"_id\":\"5ca9eac0\",\n            \"name\":\"角色1\",\n            \"create_time\":1554639552758,\n            \"_v\":0,\n            \"auth_time\":1557630307021,\n            \"auth_name\":\"admim\"\n        }],\n        loading:false,\n        role:{},\n        isShowAdd:false\n    }\n\n    initColumn = () =>{\n        this.columns = [\n            {\n                title:'角色名称',\n                dataIndex:'name'\n            }, {\n                title:'创建时间',\n                dataIndex:'create_time'\n            },{\n                title:'授权时间',\n                dataIndex:'auth_time'\n            },{\n                title:'授权人',\n                dataIndex:'auth_name'\n            },\n        ]\n    }\n\n    addRole =() =>{}\n\n    handleCancel =()=>{\n        this.setState({isShowAdd:false})\n    }\n\n    componentWillMount(){\n        this.initColumn()\n    }\n\n    onRow = (role)=>{\n        return {\n            onClick : event=>{\n                this.setState({\n                    role\n                })\n            }\n        }\n    }\n\n    render(){\n        const {roles,loading,role,isShowAdd} = this.state\n\n        const title=(\n            <span>\n                    <Button type=\"primary\">创建角色</Button>&nbsp;&nbsp;\n                    <Button type=\"primary\" disabled={!role._id}>设置角色权限</Button>\n            </span>\n        )\n\n        const rowSelection = ({\n            type:'radio',\n            selectedRowKeys:[role._id]\n        })\n\n\n\n        return (\n            <Card title={title} >\n                <Table\n                    bordered\n                    rowKey=\"_id\"\n                    loadding={loading}\n                    dataSource={roles}\n                    columns={this.columns}\n                    pagination={{defaultPageSize:5}}\n                    rowSelection={rowSelection}\n                    onRow={this.onRow}\n                 />\n                <Modal\n                    title=\"添加角色\"\n                    visible={isShowAdd}\n                    onOk={this.addRole}\n                    onCancel={this.handleCancel}\n                >\n                    <AddForm  setForm={(form)=> {this.form = form} } />\n                </Modal>\n            </Card>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}