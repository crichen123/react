{"ast":null,"code":"import \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/tree/style/css\";\nimport _Tree from \"antd/es/tree\";\nimport \"antd/es/form/style/css\";\nimport _Form from \"antd/es/form\";\nvar _jsxFileName = \"/home/crc/WebstormProjects/react-admin/src/pages/role/auth-form.jsx\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport menuList from \"../../config/menuConfig\";\nconst Item = _Form.Item;\nconst {\n  TreeNode\n} = _Tree;\nexport default class AuthForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getTreeNodes = menuList => {\n      return menuList.reduce((pre, item) => {\n        pre.push(React.createElement(TreeNode, {\n          title: item.title,\n          key: item.key,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 28\n          },\n          __self: this\n        }, item.children ? this.getTreeNodes(item.children) : null));\n        return pre;\n      }, []);\n    };\n\n    this.onCheck = checkedKeys => {\n      this.setState({\n        checkedKeys\n      });\n    };\n\n    const {\n      menus\n    } = this.props.role;\n    console.log(menus);\n    this.state = {\n      checkedKeys: menus\n    };\n  }\n\n  componentWillMount() {\n    this.treeNodes = this.getTreeNodes(menuList);\n  }\n\n  render() {\n    const {\n      role\n    } = this.props;\n    const {\n      checkedKeys\n    } = this.state;\n    const formItemLayout = {\n      labelCol: {\n        span: 4\n      },\n      wrapperCol: {\n        span: 15\n      }\n    };\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(Item, Object.assign({\n      label: \"\\u89D2\\u8272\\u540D\\u79F0\"\n    }, formItemLayout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), React.createElement(_Input, {\n      value: role.name,\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    })), React.createElement(_Tree, {\n      checkable: true,\n      defaultExpandAll: true,\n      checkedKeys: checkedKeys,\n      onCheck: this.onCheck,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(TreeNode, {\n      title: \"\\u5E73\\u53F0\\u6743\\u9650\",\n      key: \"all\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, this.treeNodes)));\n  }\n\n}\nAuthForm.propTypes = {\n  role: PropTypes.object.isRequired\n};","map":{"version":3,"sources":["/home/crc/WebstormProjects/react-admin/src/pages/role/auth-form.jsx"],"names":["React","PropTypes","menuList","Item","TreeNode","AuthForm","Component","constructor","props","getTreeNodes","reduce","pre","item","push","title","key","children","onCheck","checkedKeys","setState","menus","role","console","log","state","componentWillMount","treeNodes","render","formItemLayout","labelCol","span","wrapperCol","name","propTypes","object","isRequired"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AAEA,MAAMC,IAAI,GAAG,MAAKA,IAAlB;AACA,MAAM;AAAEC,EAAAA;AAAF,SAAN;AAGA,eAAe,MAAMC,QAAN,SAAuBL,KAAK,CAACM,SAA7B,CAAsC;AAOjDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SASnBC,YATmB,GASHP,QAAD,IAAa;AACxB,aAAOA,QAAQ,CAACQ,MAAT,CAAgB,CAACC,GAAD,EAAKC,IAAL,KAAY;AAC/BD,QAAAA,GAAG,CAACE,IAAJ,CAAS,oBAAC,QAAD;AAAU,UAAA,KAAK,EAAED,IAAI,CAACE,KAAtB;AAA6B,UAAA,GAAG,EAAEF,IAAI,CAACG,GAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACJH,IAAI,CAACI,QAAL,GAAc,KAAKP,YAAL,CAAkBG,IAAI,CAACI,QAAvB,CAAd,GAA+C,IAD3C,CAAT;AAGA,eAAOL,GAAP;AACH,OALM,EAKL,EALK,CAAP;AAMH,KAhBkB;;AAAA,SAkBnBM,OAlBmB,GAkBTC,WAAW,IAAG;AACpB,WAAKC,QAAL,CAAc;AACVD,QAAAA;AADU,OAAd;AAGH,KAtBkB;;AAEf,UAAM;AAACE,MAAAA;AAAD,QAAU,KAAKZ,KAAL,CAAWa,IAA3B;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACA,SAAKI,KAAL,GAAa;AACTN,MAAAA,WAAW,EAACE;AADH,KAAb;AAGH;;AAgBDK,EAAAA,kBAAkB,GAAG;AACjB,SAAKC,SAAL,GAAiB,KAAKjB,YAAL,CAAkBP,QAAlB,CAAjB;AACH;;AAGDyB,EAAAA,MAAM,GAAE;AACJ,UAAM;AAACN,MAAAA;AAAD,QAAS,KAAKb,KAApB;AACA,UAAM;AAACU,MAAAA;AAAD,QAAgB,KAAKM,KAA3B;AACA,UAAMI,cAAc,GAAG;AACnBC,MAAAA,QAAQ,EAAE;AAAEC,QAAAA,IAAI,EAAE;AAAR,OADS;AAEnBC,MAAAA,UAAU,EAAE;AAAED,QAAAA,IAAI,EAAE;AAAR;AAFO,KAAvB;AAKA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAC;AAAZ,OAAuBF,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QACI;AAAO,MAAA,KAAK,EAAGP,IAAI,CAACW,IAApB;AAA0B,MAAA,QAAQ,MAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,EAKI;AACI,MAAA,SAAS,MADb;AAEI,MAAA,gBAAgB,EAAE,IAFtB;AAGI,MAAA,WAAW,EAAEd,WAHjB;AAII,MAAA,OAAO,EAAE,KAAKD,OAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMI,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAC,0BAAhB;AAAuB,MAAA,GAAG,EAAC,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKS,SADV,CANJ,CALJ,CADJ;AAmBH;;AA9DgD;AAAhCrB,Q,CAEV4B,S,GAAY;AACfZ,EAAAA,IAAI,EAACpB,SAAS,CAACiC,MAAV,CAAiBC;AADP,C","sourcesContent":["import React from \"react\";\nimport {Form,Input,Tree} from \"antd\"\nimport PropTypes from \"prop-types\"\nimport menuList from \"../../config/menuConfig\";\n\nconst Item = Form.Item\nconst { TreeNode } = Tree;\n\n\nexport default class AuthForm extends React.Component{\n\n    static propTypes = {\n        role:PropTypes.object.isRequired,\n    }\n\n\n    constructor(props) {\n        super(props);\n        const {menus} = this.props.role\n        console.log(menus)\n        this.state = {\n            checkedKeys:menus\n        }\n    }\n\n    getTreeNodes = (menuList) =>{\n        return menuList.reduce((pre,item)=>{\n            pre.push(<TreeNode title={item.title} key={item.key}  >\n                {item.children?this.getTreeNodes(item.children):null}\n            </TreeNode>)\n            return pre\n        },[])\n    }\n\n    onCheck = checkedKeys =>{\n        this.setState({\n            checkedKeys\n        })\n    }\n    componentWillMount() {\n        this.treeNodes = this.getTreeNodes(menuList)\n    }\n\n\n    render(){\n        const {role} = this.props\n        const {checkedKeys} = this.state\n        const formItemLayout = {\n            labelCol: { span: 4 },\n            wrapperCol: { span: 15},\n        };\n\n        return (\n            <div >\n                <Item label=\"角色名称\" {...formItemLayout}>\n                    <Input value ={role.name} disabled />\n                </Item>\n\n                <Tree\n                    checkable\n                    defaultExpandAll={true}\n                    checkedKeys={checkedKeys}\n                    onCheck={this.onCheck}\n                >\n                    <TreeNode title=\"平台权限\" key=\"all\">\n                        {this.treeNodes}\n                    </TreeNode>\n                </Tree>\n\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}