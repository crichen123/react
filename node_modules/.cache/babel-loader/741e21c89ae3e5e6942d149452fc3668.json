{"ast":null,"code":"import _regeneratorRuntime from\"/home/crc/WebstormProjects/react-admin/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/crc/WebstormProjects/react-admin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{SET_HEAD_TITLE,RECEIVE_USER,SHOW_ERROR_MSG}from\"./action-types\";import{reqLogin}from\"../api\";import storageUtiles from\"../utils/storageUtiles\";export var setHeaderTitle=function setHeaderTitle(headTitle){return{type:SET_HEAD_TITLE,data:headTitle};};export var receiveUser=function receiveUser(user){return{type:RECEIVE_USER,user:user};};export var showErrorMsg=function showErrorMsg(errorMsg){return{type:SHOW_ERROR_MSG,errorMsg:errorMsg};};export var login=function login(username,password){return(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var result,user,msg;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return reqLogin(username,password);case 2:result=_context.sent;if(result.data.status===0){user=result.data.user;storageUtiles.saveUser(user);dispatch(receiveUser(user));}else{msg=result.data.msg;dispatch(showErrorMsg(msg));}case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());};","map":{"version":3,"sources":["/home/crc/WebstormProjects/react-admin/src/redux/actions.js"],"names":["SET_HEAD_TITLE","RECEIVE_USER","SHOW_ERROR_MSG","reqLogin","storageUtiles","setHeaderTitle","headTitle","type","data","receiveUser","user","showErrorMsg","errorMsg","login","username","password","dispatch","result","status","saveUser","msg"],"mappings":"+OAAA,OAAQA,cAAR,CAAuBC,YAAvB,CAAoCC,cAApC,KAAyD,gBAAzD,CACA,OAAQC,QAAR,KAAuB,QAAvB,CACA,MAAOC,CAAAA,aAAP,KAA0B,wBAA1B,CAEA,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,SAAD,QAAe,CAACC,IAAI,CAACP,cAAN,CAAqBQ,IAAI,CAACF,SAA1B,CAAf,EAAvB,CAEP,MAAO,IAAMG,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,IAAD,QAAW,CAACH,IAAI,CAACN,YAAN,CAAmBS,IAAI,CAAJA,IAAnB,CAAX,EAApB,CAEP,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,QAAD,QAAe,CAACL,IAAI,CAACL,cAAN,CAAqBU,QAAQ,CAARA,QAArB,CAAf,EAArB,CAEP,MAAO,IAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,QAAD,CAAUC,QAAV,CAAuB,CACxC,gGAAO,iBAAMC,QAAN,4JACkBb,CAAAA,QAAQ,CAACW,QAAD,CAAUC,QAAV,CAD1B,QACGE,MADH,eAEH,GAAGA,MAAM,CAACT,IAAP,CAAYU,MAAZ,GAAuB,CAA1B,CAA6B,CACnBR,IADmB,CACZO,MAAM,CAACT,IAAP,CAAYE,IADA,CAEzBN,aAAa,CAACe,QAAd,CAAuBT,IAAvB,EACAM,QAAQ,CAACP,WAAW,CAACC,IAAD,CAAZ,CAAR,CACH,CAJD,IAIK,CACKU,GADL,CACWH,MAAM,CAACT,IAAP,CAAYY,GADvB,CAEDJ,QAAQ,CAACL,YAAY,CAACS,GAAD,CAAb,CAAR,CACH,CATE,sDAAP,gEAYH,CAbM","sourcesContent":["import {SET_HEAD_TITLE,RECEIVE_USER,SHOW_ERROR_MSG} from \"./action-types\";\nimport {reqLogin} from \"../api\";\nimport storageUtiles from \"../utils/storageUtiles\"\n\nexport const setHeaderTitle = (headTitle) =>({type:SET_HEAD_TITLE,data:headTitle})\n\nexport const receiveUser = (user) => ({type:RECEIVE_USER,user})\n\nexport const showErrorMsg = (errorMsg) => ({type:SHOW_ERROR_MSG,errorMsg})\n\nexport const login = (username,password) => {\n    return async dispatch=>{\n        const result = await reqLogin(username,password)\n        if(result.data.status === 0) {\n            const user = result.data.user\n            storageUtiles.saveUser(user)\n            dispatch(receiveUser(user))\n        }else{\n            const msg = result.data.msg\n            dispatch(showErrorMsg(msg))\n        }\n\n    }\n}"]},"metadata":{},"sourceType":"module"}