{"ast":null,"code":"import\"antd/es/card/style/css\";import _Card from\"antd/es/card\";import\"antd/es/icon/style/css\";import _Icon from\"antd/es/icon\";import _regeneratorRuntime from\"/home/crc/WebstormProjects/react-admin/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/crc/WebstormProjects/react-admin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/crc/WebstormProjects/react-admin/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/crc/WebstormProjects/react-admin/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/crc/WebstormProjects/react-admin/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/crc/WebstormProjects/react-admin/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/crc/WebstormProjects/react-admin/node_modules/@babel/runtime/helpers/esm/inherits\";import\"antd/es/list/style/css\";import _List from\"antd/es/list\";import React from'react';import LinkButton from\"../../components/link-button\";import{BASE_IMG_URL}from\"../../utils/constant\";import{reqCategory}from\"../../api\";var Item=_List.Item;var ProductDetail=/*#__PURE__*/function(_React$Component){_inherits(ProductDetail,_React$Component);function ProductDetail(){var _getPrototypeOf2;var _this;_classCallCheck(this,ProductDetail);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ProductDetail)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={cName1:'',cName2:''};return _this;}_createClass(ProductDetail,[{key:\"getCategoryInfo\",value:function getCategoryInfo(){}},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this$props$location$,pCategoryId,categoryId,result1,cName1,results,_cName,cName2;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props$location$=this.props.location.state,pCategoryId=_this$props$location$.pCategoryId,categoryId=_this$props$location$.categoryId;if(!(pCategoryId===0)){_context.next=9;break;}_context.next=4;return reqCategory(categoryId);case 4:result1=_context.sent;cName1=result1.data.data.name;this.setState({cName1:cName1});_context.next=15;break;case 9:_context.next=11;return Promise.all([reqCategory(categoryId),reqCategory(pCategoryId)]);case 11:results=_context.sent;_cName=results[0].data.data.name;cName2=results[1].data.data.name;this.setState({cName1:_cName,cName2:cName2});case 15:this.getCategoryInfo();case 16:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;var _this$props$location$2=this.props.location.state,name=_this$props$location$2.name,desc=_this$props$location$2.desc,price=_this$props$location$2.price,detail=_this$props$location$2.detail,imgs=_this$props$location$2.imgs;var _this$state=this.state,cName1=_this$state.cName1,cName2=_this$state.cName2;var title=React.createElement(\"span\",null,React.createElement(LinkButton,null,React.createElement(_Icon,{type:\"arrow-left\",style:{color:'green',marginRight:10,fontSize:20},onClick:function onClick(){return _this2.props.history.goBack();}})),React.createElement(\"span\",null,\"\\u5546\\u54C1\\u5FC3\\u60C5\"));return React.createElement(_Card,{title:title,className:\"product-detail\"},React.createElement(_List,null,React.createElement(Item,null,React.createElement(\"span\",{className:\"left\"},\"\\u5546\\u54C1\\u540D\\u79F0:\"),React.createElement(\"span\",null,name)),React.createElement(Item,null,React.createElement(\"span\",{className:\"left\"},\"\\u5546\\u54C1\\u63CF\\u8FF0:\"),React.createElement(\"span\",null,desc)),React.createElement(Item,null,React.createElement(\"span\",{className:\"left\"},\"\\u5546\\u54C1\\u4EF7\\u683C:\"),React.createElement(\"span\",null,price)),React.createElement(Item,null,React.createElement(\"span\",{className:\"left\"},\"\\u6240\\u5C5E\\u5206\\u7C7B:\"),React.createElement(\"span\",null,cName1,\"-\",cName2?'-->'+cName2:'')),React.createElement(Item,null,React.createElement(\"span\",{className:\"left\"},\"\\u5546\\u54C1\\u56FE\\u7247:\"),React.createElement(\"span\",null,imgs.map(function(img){return React.createElement(\"img\",{key:img+Math.random(),className:\"product-img\",src:BASE_IMG_URL+img,alt:\"img\"});}))),React.createElement(Item,null,React.createElement(\"span\",{className:\"left\"},\"\\u5546\\u54C1\\u8BE6\\u60C5:\"),React.createElement(\"span\",{dangerouslySetInnerHTML:{__html:detail}}))));}}]);return ProductDetail;}(React.Component);export{ProductDetail as default};","map":{"version":3,"sources":["/home/crc/WebstormProjects/react-admin/src/pages/product/datail.jsx"],"names":["React","LinkButton","BASE_IMG_URL","reqCategory","Item","ProductDetail","state","cName1","cName2","props","location","pCategoryId","categoryId","result1","data","name","setState","Promise","all","results","getCategoryInfo","desc","price","detail","imgs","title","color","marginRight","fontSize","history","goBack","map","img","Math","random","__html","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {Card,Icon,List} from \"antd\"\nimport LinkButton from \"../../components/link-button\";\nimport {BASE_IMG_URL} from \"../../utils/constant\"\nimport {reqCategory} from \"../../api\"\n\nconst Item = List.Item\nexport default class ProductDetail extends React.Component {\n\n    state = {\n        cName1:'',\n        cName2:''\n    }\n\n    getCategoryInfo(){\n\n    }\n\n    async componentDidMount() {\n        const {pCategoryId,categoryId} = this.props.location.state;\n\n        if(pCategoryId === 0){\n            const result1 = await reqCategory(categoryId)\n            const cName1 = result1.data.data.name\n            this.setState({cName1})\n        }else{\n            // const result1 = await reqCategory(categoryId)\n            // const result2 = await reqCategory(pCategoryId)\n            //\n            // const cName1 = result1.data.data.name\n            // const cName2 =  result2.data.data.name\n            const  results = await Promise.all([reqCategory(categoryId),reqCategory(pCategoryId)])\n            const cName1 = results[0].data.data.name\n            const cName2 = results[1].data.data.name\n            this.setState({cName1,cName2})\n        }\n        this.getCategoryInfo()\n    }\n\n    render(){\n\n        const {name,desc,price,detail,imgs} = this.props.location.state\n        const {cName1,cName2} = this.state\n        const title =(\n            <span>\n                <LinkButton>\n                    <Icon type=\"arrow-left\" style={{color:'green',marginRight:10,fontSize:20}} onClick={()=>this.props.history.goBack()}></Icon>\n                </LinkButton>\n                <span>商品心情</span>\n            </span>\n        )\n\n        return (\n            <Card title={title} className=\"product-detail\">\n                <List>\n                    <Item>\n                        <span className=\"left\">商品名称:</span>\n                        <span>{name}</span>\n                    </Item>\n                    <Item>\n                        <span className=\"left\">商品描述:</span>\n                        <span>{desc}</span>\n                    </Item>\n                    <Item>\n                        <span className=\"left\">商品价格:</span>\n                        <span>{price}</span>\n                    </Item>\n                    <Item>\n                        <span className=\"left\">所属分类:</span>\n                        <span>{cName1}-{cName2?'-->'+cName2:''}</span>\n                    </Item>\n                    <Item>\n                        <span className=\"left\">商品图片:</span>\n                        <span>\n                            {\n                                imgs.map(img=>(\n                                    <img\n                                        key={img+Math.random()}\n                                        className=\"product-img\"\n                                        src={BASE_IMG_URL+ img}\n                                        alt=\"img\"/>\n                                ))\n                            }\n                        </span>\n                    </Item>\n                    <Item>\n                        <span className=\"left\">商品详情:</span>\n                        <span dangerouslySetInnerHTML={{__html:detail}}></span>\n                    </Item>\n                </List>\n            </Card>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}